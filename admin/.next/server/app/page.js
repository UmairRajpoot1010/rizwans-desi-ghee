(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},2694:e=>{"use strict";e.exports=require("http2")},8791:e=>{"use strict";e.exports=require("https")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},5973:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>m,originalPathname:()=>l,pages:()=>c,routeModule:()=>p,tree:()=>d}),r(3395),r(1840),r(5866);var s=r(3191),i=r(8716),n=r(7922),a=r.n(n),o=r(5231),u={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(u[e]=()=>o[e]);r.d(t,u);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,3395)),"C:\\Users\\sc\\rizwans-desi-ghee\\admin\\src\\app\\page.jsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,1840)),"C:\\Users\\sc\\rizwans-desi-ghee\\admin\\src\\app\\layout.jsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\sc\\rizwans-desi-ghee\\admin\\src\\app\\page.jsx"],l="/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8849:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},1825:(e,t,r)=>{Promise.resolve().then(r.bind(r,4172))},8012:(e,t,r)=>{Promise.resolve().then(r.bind(r,8728))},5047:(e,t,r)=>{"use strict";var s=r(7389);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},4172:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(326);r(7577);var i=r(5047),n=r(8728);function a(){(0,i.useRouter)();let{loading:e,isAuthenticated:t}=(0,n.a)();return s.jsx("main",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:s.jsx("p",{children:"Loading..."})})}},8728:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>o,a:()=>u});var s=r(326),i=r(7577),n=r(8866);let a=(0,i.createContext)(null);function o({children:e}){let[t,r]=(0,i.useState)(null),[o,u]=(0,i.useState)(!0),d=(0,i.useCallback)(()=>null,[]),c=(0,i.useCallback)(()=>{localStorage.removeItem("adminToken"),localStorage.removeItem("adminUser"),r(null)},[]);(0,i.useCallback)(async()=>{if(!d()){u(!1);return}try{let e=await n.Nq.getMe(),t=e?.data,s=t?.data;if(!t?.success||!s){c();return}let i=(s.role||"").toLowerCase();if("admin"!==i&&"superadmin"!==i){c();return}r(s),localStorage.setItem("adminUser",JSON.stringify(s))}catch{c()}finally{u(!1)}},[d,c]);let l=async(e,t)=>{try{let s=await n.Nq.login(e,t),i=s?.data,a=i?.data;if(console.log("Login Response:",{success:i?.success,role:a?.admin?.role}),!i?.success||!a?.token||!a?.admin)return{success:!1,message:i?.message??"Login failed"};let o=String(a.admin?.role||"").toLowerCase();if("admin"!==o&&"superadmin"!==o)return console.error("Access Denied: Invalid role",o),{success:!1,message:"Access denied. Admin or superadmin role required."};return localStorage.setItem("adminToken",a.token),localStorage.setItem("adminUser",JSON.stringify(a.admin)),r(a.admin),{success:!0}}catch(e){return{success:!1,message:e?.response?.data?.message??e?.message??"Login failed"}}},m=!!t&&("admin"===t.role||"superadmin"===t.role);return s.jsx(a.Provider,{value:{admin:t,loading:o,login:l,logout:c,isAuthenticated:m},children:e})}function u(){let e=(0,i.useContext)(a);if(!e)throw Error("useAuth must be used within AuthProvider");return e}},8866:(e,t,r)=>{"use strict";r.d(t,{Nq:()=>a});var s=r(4464);let i=process.env.NEXT_PUBLIC_API_URL||"https://rizwans-desi-ghee-backend.onrender.com/api",n=s.Z.create({baseURL:i,headers:{"Content-Type":"application/json"}});n.interceptors.request.use(e=>e),n.interceptors.response.use(e=>e,e=>(e.response?.status,Promise.reject(e)));let a={login:(e,t)=>n.post("/admin/auth/login",{email:e,password:t}),getMe:()=>n.get("/admin/auth/me"),getStats:()=>n.get("/admin/dashboard/stats"),getProducts:()=>n.get("/admin/products"),createProduct:e=>n.post("/admin/products",e),updateProduct:(e,t)=>n.put(`/admin/products/${e}`,t),deleteProduct:e=>n.delete(`/admin/products/${e}`),getOrders:e=>n.get("/admin/orders",{params:e}),updateOrderStatus:(e,t)=>n.put(`/admin/orders/${e}`,t),verifyOrder:(e,t)=>n.patch(`/admin/orders/${e}/verify`,{status:t}),deleteOrder:e=>n.delete(`/admin/orders/${e}`),getUsers:()=>n.get("/admin/users"),updateUser:(e,t)=>n.put(`/admin/users/${e}`,t),deleteUser:e=>n.delete(`/admin/users/${e}`)}},1840:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o,metadata:()=>a});var s=r(9510);r(4544);var i=r(8570);let n=(0,i.createProxy)(String.raw`C:\Users\sc\rizwans-desi-ghee\admin\src\context\AuthContext.jsx#AuthProvider`);(0,i.createProxy)(String.raw`C:\Users\sc\rizwans-desi-ghee\admin\src\context\AuthContext.jsx#useAuth`);let a={title:"Admin Panel - Rizwan's Desi Ghee",description:"Admin dashboard for managing e-commerce platform"};function o({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{children:s.jsx(n,{children:e})})})}},3395:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(8570).createProxy)(String.raw`C:\Users\sc\rizwans-desi-ghee\admin\src\app\page.jsx#default`)},4544:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[294],()=>r(5973));module.exports=s})();
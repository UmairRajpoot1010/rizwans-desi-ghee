(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[403],{6318:function(e,t,r){Promise.resolve().then(r.bind(r,1492))},9376:function(e,t,r){"use strict";var a=r(5475);r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},1492:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var a=r(7437),o=r(2265),n=r(9376),s=r(5864);function u(){var e,t,r;let u=(0,n.useRouter)(),[d,l]=(0,o.useState)(null),[i,c]=(0,o.useState)(!0),[m,v]=(0,o.useState)(null);if((0,o.useEffect)(()=>{s.Nq.getStats().then(e=>{var t,r;(null===(t=e.data)||void 0===t?void 0:t.success)&&(null===(r=e.data)||void 0===r?void 0:r.data)&&l(e.data.data)}).catch(e=>{var t,r;return v((null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.message)||"Failed to load stats")}).finally(()=>c(!1))},[]),i)return(0,a.jsx)("div",{className:"loading-state",children:"Loading dashboard..."});if(m)return(0,a.jsx)("div",{className:"error-state",children:m});let h=[{label:"Total Orders",value:null!==(e=null==d?void 0:d.totalOrders)&&void 0!==e?e:0,icon:"\uD83D\uDED2",route:"/orders"},{label:"Total Products",value:null!==(t=null==d?void 0:d.totalProducts)&&void 0!==t?t:0,icon:"\uD83D\uDCE6",route:"/products"},{label:"Total Users",value:null!==(r=null==d?void 0:d.totalUsers)&&void 0!==r?r:0,icon:"\uD83D\uDC65",route:"/users"},{label:"Revenue (COD)",value:"â‚¹".concat(Number((null==d?void 0:d.totalRevenue)||0).toLocaleString()),icon:"\uD83D\uDCB0",route:"/orders"}];return(0,a.jsx)("div",{className:"dashboard-stats",children:h.map(e=>(0,a.jsxs)("div",{className:"stat-card",onClick:()=>u.push(e.route),style:{cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-4px)",e.currentTarget.style.boxShadow="0 8px 16px rgba(0,0,0,0.1)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow=""},children:[(0,a.jsx)("span",{className:"stat-icon",children:e.icon}),(0,a.jsx)("h3",{children:e.label}),(0,a.jsx)("p",{className:"stat-value",children:e.value})]},e.label))})}},5864:function(e,t,r){"use strict";r.d(t,{Nq:function(){return s}});let a=r(3464).Z.create({baseURL:"http://localhost:5000/api",headers:{"Content-Type":"application/json"}}),o=["/admin/auth/me","/admin/dashboard","/admin/products","/admin/orders","/admin/users"],n=e=>o.some(t=>null==e?void 0:e.includes(t));a.interceptors.request.use(e=>{{let t=localStorage.getItem("adminToken");if(n(e.url)&&!t)return window.location.href="/login",Promise.reject(Error("Admin authentication required"));t&&(e.headers.Authorization="Bearer ".concat(t))}return e}),a.interceptors.response.use(e=>e,e=>{var t;let r=null===(t=e.response)||void 0===t?void 0:t.status;return(401===r||403===r)&&(localStorage.removeItem("adminToken"),localStorage.removeItem("adminUser"),window.location.href="/login"),Promise.reject(e)});let s={login:(e,t)=>a.post("/admin/auth/login",{email:e,password:t}),getMe:()=>a.get("/admin/auth/me"),getStats:()=>a.get("/admin/dashboard/stats"),getProducts:()=>a.get("/admin/products"),createProduct:e=>a.post("/admin/products",e),updateProduct:(e,t)=>a.put("/admin/products/".concat(e),t),deleteProduct:e=>a.delete("/admin/products/".concat(e)),getOrders:e=>a.get("/admin/orders",{params:e}),updateOrderStatus:(e,t)=>a.put("/admin/orders/".concat(e),t),verifyOrder:(e,t)=>a.patch("/admin/orders/".concat(e,"/verify"),{status:t}),deleteOrder:e=>a.delete("/admin/orders/".concat(e)),getUsers:()=>a.get("/admin/users"),updateUser:(e,t)=>a.put("/admin/users/".concat(e),t),deleteUser:e=>a.delete("/admin/users/".concat(e))}}},function(e){e.O(0,[464,971,117,744],function(){return e(e.s=6318)}),_N_E=e.O()}]);